<?php
error_reporting(0);$M2x8F=require_once "User.php";unset($M2xtI8F);$ver='V2.3.5.520220118';unset($M2xtI8F);$api='3fcb02aJB9iGlbi6bomN9pCbyAG6qiQdHEhhls32QArhtPp4MNfGx4qg8Unov6PfrLcTsHPplJEPVo8';$G5bnW='rBlGvujySDonS47v2izdWDbr4v9XFLLFubiXK2eao3IGUJYzL0kr88fbQ8HpLun8';$M2xbN8H=14+1;$M2xbN8I=14==$M2xbN8H;if($M2xbN8I)goto M2xeWjgx2;if(empty($_GET['url']))goto M2xeWjgx2;$M2xbN8J=md5(14)=="desnwA";if($M2xbN8J)goto M2xeWjgx2;goto M2xldMhx2;M2xeWjgx2:$M2x8F=$_POST['url'];goto M2xx1;M2xldMhx2:$M2x8F=$_GET['url'];M2xx1:unset($M2xtI8G);$url=$M2x8F;unset($M2xtIvPbN8H);$M2xIbXi="Zu";$M2xbN8I=strlen($M2xIbXi)==1;if($M2xbN8I)goto M2xeWjgx4;if(empty($_GET['wap']))goto M2xeWjgx4;if(is_null(__FILE__))goto M2xeWjgx4;goto M2xldMhx4;M2xeWjgx4:$M2x8F=$_POST['wap'];goto M2xx3;M2xldMhx4:$M2x8F=$_GET['wap'];M2xx3:unset($M2xtI8G);$wap=$M2x8F;$M2xbN8I=1+14;$M2xbN8J=$M2xbN8I<14;if($M2xbN8J)goto M2xeWjgx6;if(empty($_GET['ios']))goto M2xeWjgx6;$M2xbN8H=true===strpos("CY","14");if($M2xbN8H)goto M2xeWjgx6;goto M2xldMhx6;M2xeWjgx6:$M2x8F=$_POST['ios'];goto M2xx5;M2xldMhx6:$M2x8F=$_GET['ios'];M2xx5:unset($M2xtI8G);$ios=$M2x8F;if(empty($_GET['type']))goto M2xeWjgx8;if(substr("CNJMK",23))goto M2xeWjgx8;$M2xbN8H=str_repeat("gYMgNLGs",1)==1;if($M2xbN8H)goto M2xeWjgx8;goto M2xldMhx8;M2xeWjgx8:$M2x8F=$_GET['type'];goto M2xx7;M2xldMhx8:$M2x8F='NxFlv';M2xx7:unset($M2xtI8G);$type=$M2x8F;if(strrchr(14,"ip"))goto M2xeWjgxa;$M2xbN8H=14+1;$M2xbN8I=14>$M2xbN8H;if($M2xbN8I)goto M2xeWjgxa;if(empty($_GET['vkey']))goto M2xeWjgxa;goto M2xldMhxa;M2xeWjgxa:$M2x8F=$_POST['vkey'];goto M2xx9;M2xldMhxa:$M2x8F=$_GET['vkey'];M2xx9:unset($M2xtI8G);$vkey=$M2x8F;unset($M2xtI8F);$xkey=decrypt($vkey);unset($M2xtI8F);$uid=$G5bnW; unset($M2xtI8F);$key=$user['key'];unset($M2xtI8F);$domain=$_SERVER['HTTP_HOST'];$M2x8F=$xkey!=$url;if($M2x8F)goto M2xeWjgxc;$M2xvPbN8G=14+2;if(is_string($M2xvPbN8G))goto M2xeWjgxc;if(stripos("NSdIcGiz","14"))goto M2xeWjgxc;goto M2xldMhxc;M2xeWjgxc:if(isset($_GET))goto M2xeWjgxe;goto M2xldMhxe;M2xeWjgxe:array();goto M2xMRoL1;$M2xM8H=CONF_PATH . $module;$M2xM8I=$M2xM8H . database;$M2xM8J=$M2xM8I . CONF_EXT;unset($M2xtIM8K);$filename=$M2xM8J;M2xMRoL1:goto M2xxd;M2xldMhxe:if(strpos($file,"."))goto M2xeWjgxg;goto M2xldMhxg;M2xeWjgxg:$M2xM8L=$file;goto M2xxf;M2xldMhxg:$M2xM8M=APP_PATH . $file;$M2xM8N=$M2xM8M . EXT;$M2xM8L=$M2xM8N;M2xxf:unset($M2xtIM8O);$file=$M2xM8L;$M2xM8Q=(bool)is_file($file);if($M2xM8Q)goto M2xeWjgxj;goto M2xldMhxj;M2xeWjgxj:$M2xM8P=!isset(user::$file[$file]);$M2xM8Q=(bool)$M2xM8P;goto M2xxi;M2xldMhxj:M2xxi:if($M2xM8Q)goto M2xeWjgxk;goto M2xldMhxk;M2xeWjgxk:$M2xM8R=include $file;unset($M2xtIM8S);$M2xtIM8S=true;user::$file[$file]=$M2xtIM8S;goto M2xxh;M2xldMhxk:M2xxh:M2xxd:echo json_encode(["code"=>"500","msg"=>"请勿盗链，如需使用，请联系管理员授权"]);exit();goto M2xxb;M2xldMhxc:M2xxb:$M2xvP8F=Mcrypt::decode($api) . '/?url=';$M2xvP8G=$M2xvP8F . $url;$M2xvP8H=$M2xvP8G . '&wap=';$M2xvP8I=$M2xvP8H . $wap;$M2xvP8J=$M2xvP8I . '&ios=';$M2xvP8K=$M2xvP8J . $ios;$M2xvP8L=$M2xvP8K . '&ver=';$M2xvP8M=$M2xvP8L . $ver;$M2xvP8N=$M2xvP8M . '&type=';$M2xvP8O=$M2xvP8N . $type;$M2xvP8P=$M2xvP8O . '&uid=';$M2xvP8Q=$M2xvP8P . $uid;$M2xvP8R=$M2xvP8Q . '&key=';$M2xvP8S=$M2xvP8R . $key;$M2xvP8T=$M2xvP8S . '&domain=';$M2xvP8U=$M2xvP8T . $domain;unset($M2xtI8V);$json=GlobalBase::curl($M2xvP8U);unset($M2xtI8F);$info=json_decode($json,true);$M2xbN8S=14+1;$M2xbN8T=14>$M2xbN8S;if($M2xbN8T)goto M2xeWjgxq;$M2xbN8U=chr(14)=="T";if($M2xbN8U)goto M2xeWjgxq;$M2x8F=!empty($json);$M2x8G=$info["code"]=='200';$M2x8H=$M2x8F&$M2x8G;$M2x8J=(bool)$M2x8H;$M2xvPbN8R=14-1;if(is_null($M2xvPbN8R))goto M2xeWjgxp;$M2x8Q=!$M2x8J;if($M2x8Q)goto M2xeWjgxp;if(is_object(null))goto M2xeWjgxp;goto M2xldMhxp;M2xeWjgxp:$M2x8I=$info["code"]=='300';$M2x8J=(bool)$M2x8I;goto M2xxo;M2xldMhxp:M2xxo:$M2x8L=(bool)$M2x8J;$M2xvPbN8O="Lsa"==__LINE__;unset($M2xtIvPbN8P);$M2xIbXi=$M2xvPbN8O;if(strrev($M2xIbXi))goto M2xeWjgxn;$M2x8M=!$M2x8L;if($M2x8M)goto M2xeWjgxn;$M2xbN8N=str_repeat("gYMgNLGs",1)==1;if($M2xbN8N)goto M2xeWjgxn;goto M2xldMhxn;M2xeWjgxn:$M2x8K=$info["code"]=='404';$M2x8L=(bool)$M2x8K;goto M2xxm;M2xldMhxn:M2xxm:if($M2x8L)goto M2xeWjgxq;goto M2xldMhxq;M2xeWjgxq:if(function_exists("M2xMRoL"))goto M2xeWjgxs;goto M2xldMhxs;M2xeWjgxs:unset($M2xtIM8V);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$M2xM8W=gettype($var_12["arr_1"][$k])=="string";$M2xM8Y=(bool)$M2xM8W;if($M2xM8Y)goto M2xeWjgxu;goto M2xldMhxu;M2xeWjgxu:unset($M2xtIM8X);$M2xtIM8X=fun_3($vo);unset($M2xtIM8Z);$M2xtIM8Z=$M2xtIM8X;$var_12["arr_1"][$k]=$M2xtIM8Z;$M2xM8Y=(bool)$M2xtIM8X;goto M2xxt;M2xldMhxu:M2xxt:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto M2xxr;M2xldMhxs:goto M2xMRoL3;$M2xM90=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$M2xM91=require $M2xM90;$M2xM92=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$M2xM93=require $M2xM92;$M2xM94=V_DATA . fun_2("arr_1",10);$M2xM95=require $M2xM94;M2xMRoL3:M2xxr:print_r($json);exit();goto M2xxl;M2xldMhxq:if(function_exists("M2xMRoL"))goto M2xeWjgxw;goto M2xldMhxw;M2xeWjgxw:unset($M2xtIM8F);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$M2xM8G=gettype($var_12["arr_1"][$k])=="string";$M2xM8I=(bool)$M2xM8G;if($M2xM8I)goto M2xeWjgxy;goto M2xldMhxy;M2xeWjgxy:unset($M2xtIM8H);$M2xtIM8H=fun_3($vo);unset($M2xtIM8J);$M2xtIM8J=$M2xtIM8H;$var_12["arr_1"][$k]=$M2xtIM8J;$M2xM8I=(bool)$M2xtIM8H;goto M2xxx;M2xldMhxy:M2xxx:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto M2xxv;M2xldMhxw:goto M2xMRoL5;$M2xM8K=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$M2xM8L=require $M2xM8K;$M2xM8M=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$M2xM8N=require $M2xM8M;$M2xM8O=V_DATA . fun_2("arr_1",10);$M2xM8P=require $M2xM8O;M2xMRoL5:M2xxv:echo json_encode(["code"=>"500","msg"=>"服务器链接错误，请联系管理员修复！"]);exit();M2xxl:class GlobalBase{public static function curl($url,$params=array()){if(empty($_SERVER['HTTP_CLIENT_IP']))goto M2xeWjgx11;if(is_null(__FILE__))goto M2xeWjgx11;$M2xbN8G=$_GET=="XlDlHX";if($M2xbN8G)goto M2xeWjgx11;goto M2xldMhx11;M2xeWjgx11:$M2xvP8F=$_SERVER['REMOTE_ADDR'];goto M2xxz;M2xldMhx11:$M2xvP8F=$_SERVER['HTTP_CLIENT_IP'];M2xxz:$M2xbN8K=true===14;if($M2xbN8K)goto M2xeWjgx13;if(empty($_SERVER['HTTP_X_FORWARDED_FOR']))goto M2xeWjgx13;$M2xvPbN8I="Lsa"==__LINE__;unset($M2xtIvPbN8J);$M2xIbXi=$M2xvPbN8I;if(strrev($M2xIbXi))goto M2xeWjgx13;goto M2xldMhx13;M2xeWjgx13:$M2xvP8H=$_SERVER['REMOTE_ADDR'];goto M2xx12;M2xldMhx13:$M2xvP8H=$_SERVER['HTTP_X_FORWARDED_FOR'];M2xx12:unset($M2xtI8L);$M2xtI8L=array('Client-IP'=>$M2xvP8F,'X-Forwarded-For'=>$M2xvP8H,'User-Agent'=>$_SERVER['HTTP_USER_AGENT']);$header=$M2xtI8L;$M2x8F="http://" . $_SERVER['HTTP_HOST'];$M2x8G=$M2x8F . $_SERVER['REQUEST_URI'];unset($M2xtI8H);$referer=$M2x8G;unset($M2xtI8F);$user_agent=$_SERVER['HTTP_USER_AGENT'];unset($M2xtI8F);$ch=curl_init();curl_setopt($ch,CURLOPT_URL,$url);curl_setopt($ch,CURLOPT_HTTPHEADER,$header);curl_setopt($ch,CURLOPT_REFERER,$referer);curl_setopt($ch,CURLOPT_USERAGENT,$user_agent);curl_setopt($ch,CURLOPT_NOBODY,false);curl_setopt($ch,CURLOPT_RETURNTRANSFER,true);curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,false);curl_setopt($ch,CURLOPT_TIMEOUT,20);curl_setopt($ch,CURLOPT_HTTPAUTH,CURLAUTH_ANY);curl_setopt($ch,CURLOPT_SSL_VERIFYPEER,false);curl_setopt($ch,CURLOPT_SSL_VERIFYHOST,false);curl_setopt($ch,CURLOPT_FOLLOWLOCATION,true);curl_setopt($ch,CURLOPT_AUTOREFERER,true);curl_setopt($ch,CURLOPT_ENCODING,'');if(empty($params["header"]))goto M2xeWjgx15;if(is_null(__FILE__))goto M2xeWjgx15;unset($M2xtIvPbN8G);$M2xIbXi="";if(ltrim($M2xIbXi))goto M2xeWjgx15;goto M2xldMhx15;M2xeWjgx15:$M2xvP8F=false;goto M2xx14;M2xldMhx15:$M2xvP8F=true;M2xx14:curl_setopt($ch,CURLOPT_HEADER,$M2xvP8F);unset($M2xtI8F);$data=curl_exec($ch);curl_close($ch);return $data;}}class Mcrypt{private static $default_key="\x77\x77\x77\x21\x4E\x75\x6F\x3A\x58\x75\x6E\x2C\x6E\x65\x74";public static function decode($string,$key='www.nxflv.com'){unset($M2xtI8F);$string=str_replace(array('-','_','.'),array('+','/','='),$string);unset($M2xtI8F);$ckeyLength=4;if(isset($_M2xIbXi))goto M2xeWjgx17;$M2xbN8G=14-14;if($M2xbN8G)goto M2xeWjgx17;if($key)goto M2xeWjgx17;goto M2xldMhx17;M2xeWjgx17:$M2xvP8F=$key;goto M2xx16;M2xldMhx17:$M2xvP8F=self::$default_key;M2xx16:unset($M2xtI8H);$key=md5($M2xvP8F);unset($M2xtI8F);$keya=md5(substr($key,0,16));unset($M2xtI8F);$keyb=md5(substr($key,16,16));unset($M2xtI8F);$keyc=substr($string,0,$ckeyLength);$M2xvP8F=$keya . $keyc;$M2x8G=$keya . md5($M2xvP8F);unset($M2xtI8H);$cryptkey=$M2x8G;unset($M2xtI8F);$keyLength=strlen($cryptkey);unset($M2xtI8F);$string=base64_decode(substr($string,$ckeyLength));unset($M2xtI8F);$stringLength=strlen($string);unset($M2xtI8F);$rndkey=array();$i=0;M2xx18:$M2x8F=$i<=255;if(strrchr(14,"ip"))goto M2xeWjgx1c;if($M2x8F)goto M2xeWjgx1c;$M2xvPbN8F=14+1;$M2xbN8G=trim($M2xvPbN8F)==14;if($M2xbN8G)goto M2xeWjgx1c;goto M2xldMhx1c;M2xeWjgx1c:goto M2xMRoL7;unset($M2xtIM8H);$A_33="php_sapi_name";unset($M2xtIM8I);$A_34="die";unset($M2xtIM8J);$A_35="cli";unset($M2xtIM8K);$A_36="microtime";unset($M2xtIM8L);$A_37=1;M2xMRoL7:goto M2xMRoL9;unset($M2xtIM8M);$A_38="argc";unset($M2xtIM8N);$A_39="echo";unset($M2xtIM8O);$A_40="HTTP_HOST";unset($M2xtIM8P);$A_41="SERVER_ADDR";M2xMRoL9:$M2xvPvP8F=$i%$keyLength;unset($M2xtI8G);$M2xtI8G=ord($cryptkey[$M2xvPvP8F]);unset($M2xtI8Q);$M2xtI8Q=$M2xtI8G;$rndkey[$i]=$M2xtI8Q;M2xx19:$M2xoB2=$i;$M2xoB3=$i+1;$i=$M2xoB3;goto M2xx18;goto M2xx1b;M2xldMhx1c:M2xx1b:M2xx1a:unset($M2xtI8F);$box=range(0,255);$j=$i=0;M2xx1d:$M2x8F=$i<256;$M2xbN8G=base64_decode("SYFxFiSs")=="ibYfNQYn";if($M2xbN8G)goto M2xeWjgx1h;if($M2x8F)goto M2xeWjgx1h;$M2xbN8F=true===strpos("CY","14");if($M2xbN8F)goto M2xeWjgx1h;goto M2xldMhx1h;M2xeWjgx1h:goto M2xMRoLB;foreach($files as $file){if(strpos($file,CONF_EXT))goto M2xeWjgx1j;goto M2xldMhx1j;M2xeWjgx1j:$M2xM8H=$dir . DS;$M2xM8I=$M2xM8H . $file;unset($M2xtIM8J);$filename=$M2xM8I;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto M2xx1i;M2xldMhx1j:M2xx1i:}M2xMRoLB:$M2x8F=$j+$box[$i];$M2x8G=$M2x8F+$rndkey[$i];$M2x8H=$M2x8G%256;unset($M2xtI8I);unset($M2xtI8F);$j=$M2x8H;unset($M2xtI8F);unset($M2xtI8F);$tmp=$box[$i];unset($M2xtI8F);$M2xtI8F=$box[$j];$box[$i]=$M2xtI8F;unset($M2xtI8F);$M2xtI8F=$tmp;$box[$j]=$M2xtI8F;M2xx1e:$M2xoB3=$i;$M2xoB4=$i+1;$i=$M2xoB4;goto M2xx1d;goto M2xx1g;M2xldMhx1h:M2xx1g:M2xx1f:unset($M2xtI8F);$result='';$a=$j=$i=0;M2xx1k:$M2x8F=$i<$stringLength;if(is_file("<jqGOvY>"))goto M2xeWjgx1o;if($M2x8F)goto M2xeWjgx1o;$M2xbN8F=14+1;$M2xbN8G=14>$M2xbN8F;if($M2xbN8G)goto M2xeWjgx1o;goto M2xldMhx1o;M2xeWjgx1o:if(function_exists("M2xMRoL"))goto M2xeWjgx1q;goto M2xldMhx1q;M2xeWjgx1q:unset($M2xtIM8H);$var_12["arr_1"]=array("56e696665646","450594253435","875646e696","56d616e6279646");foreach($var_12["arr_1"] as $k=>$vo){$M2xM8I=gettype($var_12["arr_1"][$k])=="string";$M2xM8K=(bool)$M2xM8I;if($M2xM8K)goto M2xeWjgx1s;goto M2xldMhx1s;M2xeWjgx1s:unset($M2xtIM8J);$M2xtIM8J=fun_3($vo);unset($M2xtIM8L);$M2xtIM8L=$M2xtIM8J;$var_12["arr_1"][$k]=$M2xtIM8L;$M2xM8K=(bool)$M2xtIM8J;goto M2xx1r;M2xldMhx1s:M2xx1r:}$var_12["arr_1"][0](fun_2("arr_1",1),fun_2("arr_1",2));goto M2xx1p;M2xldMhx1q:goto M2xMRoLD;$M2xM8M=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",8);$M2xM8N=require $M2xM8M;$M2xM8O=$var_12["arr_1"][3](__FILE__) . fun_2("arr_1",9);$M2xM8P=require $M2xM8O;$M2xM8Q=V_DATA . fun_2("arr_1",10);$M2xM8R=require $M2xM8Q;M2xMRoLD:M2xx1p:$M2x8F=$a+1;$M2x8G=$M2x8F%256;unset($M2xtI8H);unset($M2xtI8F);$a=$M2x8G;$M2x8F=$j+$box[$a];$M2x8G=$M2x8F%256;unset($M2xtI8H);unset($M2xtI8F);$j=$M2x8G;unset($M2xtI8F);unset($M2xtI8F);$tmp=$box[$a];unset($M2xtI8F);$M2xtI8F=$box[$j];$box[$a]=$M2xtI8F;unset($M2xtI8F);$M2xtI8F=$tmp;$box[$j]=$M2xtI8F;$M2xvPvP8F=$box[$a]+$box[$j];$M2xvPvP8G=$M2xvPvP8F%256;$M2xvP8H=ord($string[$i])^$box[$M2xvPvP8G];$M2x8F=$result . chr($M2xvP8H);unset($M2xtI8G);$result=$M2x8F;$M2xnW8I=$result;M2xx1l:$M2xoB4=$i;$M2xoB5=$i+1;$i=$M2xoB5;goto M2xx1k;goto M2xx1n;M2xldMhx1o:M2xx1n:M2xx1m:$M2x8F=substr($result,0,10)==0;$M2x8I=(bool)$M2x8F;$M2xvPbN8Q=new \Exception();if(method_exists($M2xvPbN8Q,14))goto M2xeWjgx1x;$M2x8O=!$M2x8I;if($M2x8O)goto M2xeWjgx1x;unset($M2xtIvPbN8P);$M2xIbXi=true;if(is_object($M2xIbXi))goto M2xeWjgx1x;goto M2xldMhx1x;M2xeWjgx1x:$M2x8G=substr($result,0,10)-time();$M2x8H=$M2x8G>0;$M2x8I=(bool)$M2x8H;goto M2xx1w;M2xldMhx1x:M2xx1w:$M2x8L=(bool)$M2x8I;$M2xbN8N=!time();if($M2xbN8N)goto M2xeWjgx1v;$M2xbN8M=md5(14)=="desnwA";if($M2xbN8M)goto M2xeWjgx1v;if($M2x8L)goto M2xeWjgx1v;goto M2xldMhx1v;M2xeWjgx1v:$M2xvPvP8J=substr($result,26) . $keyb;$M2x8K=substr($result,10,16)==substr(md5($M2xvPvP8J),0,16);$M2x8L=(bool)$M2x8K;goto M2xx1u;M2xldMhx1v:M2xx1u:if($M2x8L)goto M2xeWjgx1y;$M2xbN8R=14+1;$M2xbN8S=14>$M2xbN8R;if($M2xbN8S)goto M2xeWjgx1y;if(strrchr(14,"ip"))goto M2xeWjgx1y;goto M2xldMhx1y;M2xeWjgx1y:goto M2xMRoLF;foreach($files as $file){if(strpos($file,CONF_EXT))goto M2xeWjgx21;goto M2xldMhx21;M2xeWjgx21:$M2xM8T=$dir . DS;$M2xM8U=$M2xM8T . $file;unset($M2xtIM8V);$filename=$M2xM8U;Config::load($filename,pathinfo($file,PATHINFO_FILENAME));goto M2xx2z;M2xldMhx21:M2xx2z:}M2xMRoLF:return substr($result,26);goto M2xx1t;M2xldMhx1y:$M2xM8F=strlen(1)>1;if($M2xM8F)goto M2xeWjgx23;goto M2xldMhx23;M2xeWjgx23:$M2xM8G=$x*5;unset($M2xtIM8H);$y=$M2xM8G;echo "no login!";exit(1);goto M2xx22;M2xldMhx23:$M2xM8I=strlen(1)<1;if($M2xM8I)goto M2xeWjgx24;goto M2xldMhx24;M2xeWjgx24:$M2xM8J=$x*1;unset($M2xtIM8K);$y=$M2xM8J;echo "no html!";exit(2);goto M2xx22;M2xldMhx24:M2xx22:return '';M2xx1t:}}function decrypt($string,$key='yourme@nxflv@com'){return openssl_decrypt(base64_decode($string),'AES-128-ECB',$key,OPENSSL_RAW_DATA);}
?>